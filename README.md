# Updating the embedded configuration


The genconfig binary in this package is used to generate the lantern global configuration.
Currently this is run from cloudmasters and managed by this salt module:
https://github.com/getlantern/lantern_aws/blob/main/salt/update_masquerades

If you want to update the global proxied sites list, first edit the global file at
https://github.com/getlantern/lantern_aws/blob/main/salt/update_masquerades/original.txt

The live global.yaml is updated periodically, the current configuration can be fetched with:
`curl --head https://globalconfig.flashlightproxy.com/global.yaml.gz`

The embeddedGlobal.go found in flashlight is generated by downloading that file.

# Updating the production binary

A production binary suitable for cloudmasters can be created by running `make dist`.  The resulting binary
in `dist-bin` can be used to update the genconfig binary found in the update_masquerades 
salt module:
https://github.com/getlantern/lantern_aws/blob/main/salt/update_masquerades
